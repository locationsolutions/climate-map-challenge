(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,n){e.exports=n(77)},62:function(e,t,n){},65:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),l=(n(62),n(43),n(21)),c=(n(65),n(5)),u=n.n(c),s=n(11),m=n(12);var d=function(e){var t=Object(a.useRef)();return Object(a.useEffect)(function(){t.current=e}),t.current};function p(){var e=Object(s.a)(["\n    margin: 10px auto;\n    border: 0.5px solid #FFF;\n    color: #FFF;\n    padding: 5px;\n    font-size: 12px;  \n"]);return p=function(){return e},e}function f(){var e=Object(s.a)(["\n    font-weight: bold;\n    font-size: 14px;\n"]);return f=function(){return e},e}function h(){var e=Object(s.a)(["\n    background-color: green;\n    position: absolute;\n    top: 30%;\n    bottom: 5%;\n    border: 1px solid green;\n    width: 300px;\n    height: 100vh;\n    text-align: center;\n    color: #FFF;\n"]);return h=function(){return e},e}var b=m.a.div(h()),v=m.a.h2(f()),g=m.a.table(p()),E="Please select a location by double clicking to the marker!";var w=function(e){var t=e.loc;return console.info(JSON.stringify(t,null,4)),r.a.createElement(b,null,r.a.createElement(v,null,"Realtime weather"),t?r.a.createElement(g,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name:"),r.a.createElement("td",null,t.info.name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Region:"),r.a.createElement("td",null,t.info.region)),r.a.createElement("tr",null,r.a.createElement("th",null,t.data.t.property.label),r.a.createElement("td",null,t.data.t.timeValuePairs.find(function(e){return Math.min(e.time)}).value)),r.a.createElement("tr",null,r.a.createElement("th",null,t.data.ws_10min.property.label),r.a.createElement("td",null,t.data.ws_10min.timeValuePairs.find(function(e){return Math.min(e.time)}).value)),r.a.createElement("tr",null,r.a.createElement("th",null,t.data.td.property.label),r.a.createElement("td",null,t.data.td.timeValuePairs.find(function(e){return Math.min(e.time)}).value)),r.a.createElement("tr",null,r.a.createElement("th",null,t.data.snowdepth.property.label),r.a.createElement("td",null,t.data.snowdepth.timeValuePairs.find(function(e){return Math.min(e.time)}).value)),r.a.createElement("tr",null,r.a.createElement("th",null,t.data.r_1h.property.label),r.a.createElement("td",null,t.data.r_1h.timeValuePairs.find(function(e){return Math.min(e.time)}).value)))):r.a.createElement("h4",null,E))};function x(){var e=Object(s.a)(['\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  background-color: #eee;\n  border-radius: 50%;\n  &:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n']);return x=function(){return e},e}function k(){var e=Object(s.a)(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  &:checked ~ .checkmark {\n     background-color: green;\n  }\n"]);return k=function(){return e},e}function O(){var e=Object(s.a)(["\n  display: inline;\n  position: relative;\n  padding-left:35px;\n  margin-bottom: 12px;\n  margin-left: 12px;\n  cursor: pointer;\n  font-size: 22px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n   &:hover input ~ .checkmark {\n      background-color: #ccc;\n   }\n   & .checkmark:after {\n      top: 9px;\n      left: 9px;\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      background: white;\n   }\n"]);return O=function(){return e},e}function y(){var e=Object(s.a)(["\n   float: left;\n   width: 300px;\n   background-color: red;\n   display: inline;\n   text-align: center;\n   padding-top: 25%;\n"]);return y=function(){return e},e}var j=m.a.div(y()),F=m.a.label(O()),L=m.a.input(k()),I=m.a.span(x()),P=["Dark","Bright"];function z(e){var t=e.setTheme,n=function(e){console.log("e.target.value: ",e.target.value),t(e.target.value)};return r.a.createElement(j,null,P.map(function(e,t){return r.a.createElement(F,{key:e},e,r.a.createElement(L,{type:"radio",name:"radio",value:t,onClick:n}),r.a.createElement(I,{className:"checkmark"}))}))}function M(){var e=Object(s.a)(["\n    display: flex;\n    width: 300px;\n    height: 100vh;\n"]);return M=function(){return e},e}var S=m.a.div(M());var _=function(e){var t=e.selectedLocationId,n=e.observationLocations,a=e.setTheme;console.log("selectedLocationId: ",t);var o=d(t),i=n.find(function(e){return e.info.id===o});return r.a.createElement(S,null,r.a.createElement(z,{setTheme:a}),r.a.createElement(w,{loc:i}))},C=n(80),D=n(81),T=n(82),R=n(79);function V(){var e=Object(s.a)(["\n    width: calc(100vw - 300px);\n    height: 100vh;\n    position:absolute;\n    top:0px;\n    left:300px;\n"]);return V=function(){return e},e}var B=Object(m.a)(C.a)(V()),N=[26,62],U=D.a.BaseLayer;function W(e){var t=e.observationLocations,n=e.setSelectedLocation,a=e.theme;return r.a.createElement(B,{center:N,zoom:6,maxZoom:10,attributionControl:!0,zoomControl:!0,doubleClickZoom:!1,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},r.a.createElement(D.a,{position:"topright"},r.a.createElement(U,{checked:!0,name:"OpenStreetMap.Mapnik"},r.a.createElement(T.a,{url:a,attribution:'\xa9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> \xa9 <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}))),t.map(function(e){return r.a.createElement(R.a,{position:[e.position.lat,e.position.lon],key:e.info.id,title:e.info.name,zIndexOffset:1e3,onClick:function(){return n(e.info.id)}})}))}var Z=n(54),q=n(55),A=n.n(q),J="http://opendata.fmi.fi/wfs",$="fmi::observations::weather::cities::multipointcoverage",G={begin:Date.now()-5184e5,end:Date.now(),requestParameter:"t,td,ws_10min,snowdepth,r_1h",timestep:36e5,bbox:"20.6455928891, 59.846373196, 31.5160921567, 70.1641930203"};delete u.a.Icon.Default.prototype._getIconUrl,u.a.Icon.Default.mergeOptions({iconRetinaUrl:n(74),iconUrl:n(75),shadowUrl:n(76)});var H=["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png","http://{s}.tile.osm.org/{z}/{x}/{y}.png"];var K=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(null),c=Object(l.a)(i,2),u=c[0],s=c[1],m=Object(a.useState)(1),d=Object(l.a)(m,2),p=d[0],f=d[1];Object(a.useEffect)(function(){return function(e){var t=new A.a.WfsConnection;t.connect(J,$)&&t.getData({begin:G.begin,end:G.end,requestParameter:G.requestParameter,timestep:G.timestep,bbox:G.bbox,sites:G.sites,callback:function(n,a){a.length>0?a.forEach(function(e){console.error("FMI API error: "+e.errorText)}):(e(n.locations.map(function(e){var t=e.info.position.map(parseFloat),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(Z.a)({},e,{position:{lat:r,lon:a}})})),t.disconnect())}})}(o)},[]);var h=r.a.createElement(W,{observationLocations:n,setSelectedLocation:s,theme:H[p]});return r.a.createElement("div",{className:"App"},r.a.createElement(_,{selectedLocationId:u,observationLocations:n,setTheme:f}),h)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,2,1]]]);
//# sourceMappingURL=main.765a0e80.chunk.js.map